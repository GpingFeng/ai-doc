# Claude Code Cheat Sheet

快速掌握使用 Claude 进行 AI 编程的技巧和最佳实践。

## 🚀 快速开始

### 基本对话结构

```markdown
👤 你：[明确的需求描述]
- 技术栈：
- 功能要求：
- 约束条件：

🤖 Claude：[代码 + 解释]
```

## 📝 提示词模板（Prompt Templates）

### 1. 代码生成

#### 模板 A：创建函数

```markdown
创建一个 [语言] 函数，功能是 [具体功能描述]。

要求：
- 输入：[参数类型和说明]
- 输出：[返回值类型和说明]
- 包含类型注解
- 添加文档字符串
- 处理边界情况
- 包含使用示例
```

<CustomCard title="实际示例" icon="💡" variant="primary">

```markdown
创建一个 Python 函数，功能是验证电子邮件地址是否有效。

要求：
- 输入：字符串类型的邮箱地址
- 输出：布尔值（True/False）
- 包含类型注解
- 添加文档字符串
- 处理常见的无效格式
- 包含使用示例
```

</CustomCard>

#### 模板 B：实现类

```markdown
用 [语言] 实现一个 [类名] 类，用于 [用途]。

需要包含：
- 属性：[列出所有属性]
- 方法：[列出所有方法及其功能]
- 错误处理
- 单元测试示例
```

#### 模板 C：完整功能模块

```markdown
实现一个 [功能模块名称]，包含以下功能：

核心功能：
1. [功能1]
2. [功能2]
3. [功能3]

技术要求：
- 语言/框架：[具体技术栈]
- 数据库：[如果需要]
- API 设计：[RESTful/GraphQL 等]
- 安全要求：[认证、授权等]

请提供：
- 完整代码实现
- 配置文件
- 测试用例
- API 文档
```

### 2. 代码审查

```markdown
请审查以下代码，重点关注：
- 代码质量和可读性
- 潜在的 bug 和边界情况
- 性能问题
- 安全漏洞
- 最佳实践

[粘贴代码]
```

### 3. 代码优化

```markdown
请优化以下代码，目标是 [性能/可读性/内存使用]：

[粘贴代码]

请提供：
- 优化后的代码
- 优化说明
- 性能对比（如果适用）
```

### 4. Bug 修复

```markdown
以下代码有问题，症状是 [描述问题]：

[粘贴代码]

错误信息（如果有）：
[粘贴错误信息]

请帮助：
1. 找出问题原因
2. 提供修复方案
3. 解释为什么会出现这个问题
```

### 5. 代码解释

```markdown
请解释以下代码的工作原理：

[粘贴代码]

请包括：
- 整体逻辑流程
- 关键步骤详解
- 使用的技术/模式
- 可能的改进建议
```

## 💻 常见开发场景

### 场景 1：创建 REST API

```markdown
使用 [Flask/FastAPI/Express] 创建一个 RESTful API，用于管理 [资源名称]。

端点需求：
- GET /api/[resource] - 获取所有资源
- GET /api/[resource]/:id - 获取单个资源
- POST /api/[resource] - 创建资源
- PUT /api/[resource]/:id - 更新资源
- DELETE /api/[resource]/:id - 删除资源

要求：
- 数据验证
- 错误处理
- JWT 认证
- 分页支持
- API 文档（Swagger/OpenAPI）
```

### 场景 2：数据库操作

```markdown
使用 [ORM 名称] 创建数据模型和操作函数：

模型：
- [模型名1]：字段 [列出字段]
- [模型名2]：字段 [列出字段]
- 关系：[描述模型间关系]

操作函数：
1. 创建记录
2. 查询记录（支持过滤和排序）
3. 更新记录
4. 删除记录
5. 批量操作

包含事务处理和错误处理。
```

### 场景 3：前端组件

```markdown
用 [React/Vue] 创建一个 [组件名称] 组件。

功能：
- [功能描述]

Props：
- [prop1]：类型，说明
- [prop2]：类型，说明

状态管理：
- [描述需要的状态]

样式：
- [样式要求，如响应式、主题等]

请包含 TypeScript 类型定义和使用示例。
```

### 场景 4：测试用例

```markdown
为以下代码编写测试用例：

[粘贴代码]

要求：
- 测试框架：[pytest/jest/mocha]
- 覆盖正常情况
- 覆盖边界情况
- 覆盖异常情况
- 使用 mock（如果需要）
- 达到 80% 以上覆盖率
```

### 场景 5：代码重构

```markdown
重构以下代码，遵循 [SOLID/DRY/设计模式] 原则：

[粘贴代码]

目标：
- 提高可维护性
- 减少代码重复
- 改善命名和结构
- 保持功能不变

请提供重构前后对比和说明。
```

## 🎯 高级技巧

### 1. 上下文管理

::: tip 保持对话连贯性
在长对话中，定期总结当前进度：

```markdown
目前我们已经完成了：
1. [已完成项1]
2. [已完成项2]

接下来请帮我：
[下一步需求]
```
:::

### 2. 增量式开发

```markdown
# 第一步：基础框架
先创建基本的项目结构和核心模型

# 第二步：核心功能
实现主要业务逻辑

# 第三步：增强功能
添加认证、日志、缓存等

# 第四步：优化和测试
性能优化和完善测试
```

### 3. 多文件项目

```markdown
我需要创建一个 [项目类型] 项目，包含以下文件：

请按以下顺序生成：
1. 项目结构说明（目录树）
2. 配置文件（package.json, requirements.txt 等）
3. 核心模块文件
4. 测试文件
5. README 文档

技术栈：[列出]
```

### 4. 代码对比

```markdown
我有两种实现方式，请帮我对比分析：

方案 A：
[代码A]

方案 B：
[代码B]

请对比：
- 性能
- 可读性
- 可维护性
- 适用场景

并给出推荐。
```

## 🔧 调试技巧

### 问题诊断

```markdown
我的代码运行时出现了 [问题描述]

代码：
[粘贴相关代码]

错误信息：
[粘贴完整错误栈]

运行环境：
- 语言版本：
- 依赖版本：
- 操作系统：

已尝试的方案：
1. [方案1] - [结果]
2. [方案2] - [结果]

请帮我诊断问题并提供解决方案。
```

### 性能分析

```markdown
这段代码的性能不理想，请帮我分析和优化：

[粘贴代码]

性能指标：
- 当前耗时：[X秒]
- 目标耗时：[Y秒]
- 数据规模：[描述]

请提供：
1. 性能瓶颈分析
2. 优化建议
3. 优化后的代码
```

## 📚 特定语言的提示

### Python

```markdown
# 函数签名明确
用 Python 3.10+ 实现，使用类型注解和数据类

# 异步编程
使用 asyncio 实现异步版本

# 数据处理
使用 pandas/numpy 进行数据处理，要求高效
```

### JavaScript/TypeScript

```markdown
# 现代语法
使用 ES6+ 语法，包含箭头函数、解构、async/await

# TypeScript 类型
包含完整的 TypeScript 类型定义和接口

# React Hooks
使用函数组件和 Hooks（不使用类组件）
```

### SQL

```markdown
# 数据库优化
编写优化的 SQL 查询，包含索引建议

# 查询解释
提供查询执行计划和优化建议
```

## ⚠️ 常见陷阱与注意事项

### 1. 提示过于模糊

<CustomCard variant="danger">

**❌ 不好的提示**
```
写一个登录功能
```

**✅ 好的提示**
```
用 Flask 实现用户登录功能，包括：
- 用户名/密码验证
- JWT token 生成
- 密码加密（bcrypt）
- 登录失败次数限制
- 会话管理
```

</CustomCard>

### 2. 缺少上下文

<CustomCard variant="warning">

**提供足够上下文**
- 项目类型和技术栈
- 现有代码结构
- 特定约束条件
- 预期用户规模

</CustomCard>

### 3. 一次性要求太多

::: tip 分步骤进行
将大任务分解为小步骤：
1. 先搭建基础框架
2. 实现核心功能
3. 添加附加功能
4. 优化和测试
:::

## 🎨 代码风格指定

```markdown
请按以下代码风格编写：

- 命名风格：[camelCase/snake_case/PascalCase]
- 缩进：[2/4 spaces/tabs]
- 注释风格：[JSDoc/docstring/inline]
- 错误处理：[异常/返回码]
- 日志级别：[debug/info/error]
```

## 📖 文档生成

```markdown
为以下代码生成文档：

[粘贴代码]

文档格式：[Markdown/JSDoc/Sphinx/GoDoc]

包含：
- 功能概述
- 参数说明
- 返回值说明
- 使用示例
- 注意事项
```

## 🔄 代码转换

### 语言转换

```markdown
将以下 [源语言] 代码转换为 [目标语言]：

[粘贴代码]

要求：
- 保持功能完全一致
- 使用目标语言的惯用法
- 包含必要的注释
- 提供使用示例
```

### 框架迁移

```markdown
将这个 [框架A] 项目迁移到 [框架B]：

[粘贴代码]

请提供：
- 迁移步骤说明
- 转换后的代码
- 注意事项和差异说明
```

## 💡 创意使用

### 1. 学习新技术

```markdown
我想学习 [技术名称]，请：
1. 简要介绍核心概念
2. 提供一个入门示例
3. 解释示例中的关键点
4. 给出学习路径建议
```

### 2. 代码 Review

```markdown
请像资深开发者一样审查这段代码：

[粘贴代码]

关注点：
- 代码质量（可读性、可维护性）
- 设计模式和架构
- 性能和安全性
- 测试覆盖
- 改进建议
```

### 3. 技术选型

```markdown
我需要实现 [功能描述]，在以下技术方案中选择：

方案1：[技术栈1]
方案2：[技术栈2]
方案3：[技术栈3]

项目背景：
- 团队规模：
- 性能要求：
- 维护周期：
- 预算：

请分析各方案的优劣并给出推荐。
```

## 📊 实战案例

### 案例 1：完整的 CRUD API

```markdown
用 FastAPI 创建一个博客文章管理系统的完整 CRUD API。

数据模型：
- Post：id, title, content, author_id, created_at, updated_at
- User：id, username, email, created_at

功能要求：
- 文章 CRUD 操作
- 用户认证（JWT）
- 分页和搜索
- 权限控制（只能修改自己的文章）
- 输入验证
- 错误处理

请提供：
1. 数据模型定义
2. API 路由实现
3. 认证中间件
4. Pydantic 模式
5. 测试用例
```

### 案例 2：React 状态管理

```markdown
创建一个购物车功能的 React 应用：

功能：
- 添加商品到购物车
- 修改商品数量
- 删除商品
- 计算总价
- 持久化到 localStorage

技术要求：
- TypeScript
- React Hooks（useState, useEffect, useContext）
- 自定义 Hook（useLocalStorage）
- 组件：CartProvider, CartItem, CartSummary

请提供完整实现。
```

## 🚀 效率提升技巧

### 使用代码块引用

```markdown
在之前的 `CartProvider` 组件基础上，添加：
1. 购物车商品去重功能
2. 优惠券应用逻辑
3. 结算功能

请只显示需要修改的部分，其余保持不变。
```

### 批量生成

```markdown
为以下 API 端点生成对应的测试用例：
1. POST /api/users
2. GET /api/users/:id
3. PUT /api/users/:id
4. DELETE /api/users/:id

每个端点测试：
- 成功情况
- 验证失败
- 权限错误
- 资源不存在
```

## 📝 备忘清单

### 每次对话前检查

- [ ] 需求是否清晰明确
- [ ] 技术栈是否指定
- [ ] 约束条件是否说明
- [ ] 是否提供了必要的上下文

### 代码生成后检查

- [ ] 代码逻辑是否正确
- [ ] 是否处理了边界情况
- [ ] 是否有安全漏洞
- [ ] 是否符合项目规范
- [ ] 是否需要测试

## 🎓 学习资源

### 官方文档
- [Claude API 文档](https://docs.anthropic.com/)
- [Claude Prompt 工程](https://docs.anthropic.com/claude/docs/prompt-engineering)

### 社区资源
- [Claude Discord](https://discord.gg/anthropic)
- [Awesome Claude Prompts](https://github.com/anthropic/awesome-claude-prompts)

## 💬 获取帮助

如果你遇到问题：

1. **明确描述问题**
2. **提供相关代码和错误信息**
3. **说明已尝试的方案**
4. **描述预期行为**

---

## 🎉 总结

使用 Claude 进行 AI 编程的关键：

- 🎯 **明确的需求** - 清晰描述你想要什么
- 📝 **详细的上下文** - 提供足够的背景信息
- 🔄 **迭代式开发** - 逐步完善功能
- 🔍 **仔细审查** - 验证生成的代码
- 📚 **持续学习** - 从 AI 的回答中学习

Happy Coding with Claude! 🚀

