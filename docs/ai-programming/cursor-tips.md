# Cursor 使用技巧 Cheat Sheet

> 本文总结了在 Cursor 中高效使用 AI 辅助编码的常见技巧，偏实践向，可直接用到你的日常开发工作流里。

## 1. Cursor 是什么，适合干什么？

Cursor 可以理解为**“带 IDE 外壳的 AI 编程助手”**，比在浏览器里聊 ChatGPT / Claude 更适合：

- 在真实项目里写代码、重构、加文档、补测试
- 跨文件理解项目结构、搜索和修改
- 和 Git/终端/测试集成到一个窗口里

如果你已经在用这个 AI 文档仓库，那你现在就是在 Cursor 里开发，非常适合把下面这些技巧变成习惯。

---

## 2. 写好 Prompt 的通用套路

### 2.1 标准 Prompt 模板

> 适用于“帮我改这段代码 / 实现一个功能”这类需求。

```markdown
【背景】
- 技术栈：Vue 3 + VitePress + TypeScript
- 场景：AI 知识库文档站

【当前代码】
```ts
// 粘贴相关代码（组件/配置/工具函数等）
```

【需求】
- 期望行为 1
- 期望行为 2
- 约束（例如：不引入新依赖、不改动公共组件）

【输出要求】
- 给出修改后的完整代码
- 用中文解释关键改动点
```

**关键点：**

- **背景要具体**：技术栈 + 业务场景
- **代码要有上下文**：至少是一整个函数/组件
- **需求分条写**：方便 AI 对照逐条实现
- **输出格式写清楚**：完整代码 / diff / 只解释 等

### 2.2 改代码时的一句话模版

- “在**当前代码基础上**，按以下要求修改：…”
- “**不要改变对外行为**，只做重构：…”
- “以**最小改动**方式修复这个 bug：…”

这几句话可以大幅减少“整段推翻重写”的情况。

---

## 3. 选中代码 + Ask：最高频、最值回报的操作

> 在 Cursor 里，最实用的不是大段聊天，而是：**选中局部代码 → 用自然语言描述想要的结果**。

### 3.1 常用场景示例

1. **加注释 / 文档**

选中一段复杂逻辑，Ask：

```markdown
请：
1. 用中文为这段代码补充行级注释
2. 在函数上方加一个 JSDoc 风格的注释，说明入参/返回值/边界情况
```

2. **改写逻辑但保持行为不变**

```markdown
在不改变外部行为的前提下：
- 把 `if...else` 写法改为更易读的早返回
- 去掉重复的校验逻辑
- 改善变量命名
```

3. **接口字段变更**

```markdown
后端把字段 `userId` 改成了 `id`，请：
- 修改这段代码中对应的字段名
- 如果有类型定义，一并更新
- 确保空值/异常情况也处理得当
```

### 3.2 选中范围的建议

- **尽量选一整个函数 / 组件**，不要只选半截，否则上下文不够
- 需要跨文件改动时，可以先在一个文件试好，再让它“对同模式代码批量应用”

---

## 4. 面板 Chat 的高效用法

### 4.1 先让 Cursor “读项目、做总结”

在一个新项目里第一次使用时，建议先让它建立心智模型：

```markdown
请通读当前项目，帮我总结：
- 使用了哪些主要技术栈
- 目录结构和各目录的大致职责
- 全局状态管理方案（如果有）
- HTTP 请求是在哪里封装的

请用中文分条说明。
```

然后你可以基于它的理解提更高层的需求：

```markdown
基于你刚才的理解：
- 在现有 AI 编程章节下，再加一篇《Cursor 使用技巧》文档
- 按当前仓库的风格给我一个大纲
- 不要直接写内容，只要 Markdown 目录结构
```

### 4.2 让它先给“方案”，再要“具体代码”

大改动时，推荐两步走：

1. 第一步：要方案

```markdown
我想把 VitePress 站点的导航和侧边栏结构重构得更清晰：
- 目标：按「基础 / AI 编程 / 工具」三大块组织

请先：
1. 设计一个新的导航和 sidebar 结构
2. 写出对应的 `themeConfig.nav` 和 `sidebar` 伪代码
3. 说明这个结构的优缺点
```

2. 第二步：要代码

确认方案 OK 后，再让它基于**当前 config 文件**给出具体改动。

---

## 5. 和 Git / 提交工作流结合

### 5.1 用 Cursor 帮你写 commit message

```markdown
下面是本次改动的 diff：

```diff
// 在终端运行 `git diff`，然后把结果粘进来
```

请根据 Conventional Commits 规范，生成 3 条可选的 commit message：
- type 从 feat/fix/docs/refactor/chore 中选
- scope 用本次改动影响的模块名（例如 ai-programming 或 deploy）
- subject 用英文，简短明了
```

### 5.2 让它帮你做自我 Code Review

```markdown
请 Review 以下 diff：

```diff
// 粘贴 git diff
```

从以下角度给出建议：
- 是否有明显 bug / 漏掉的边界情况
- 是否有重复逻辑可以抽象
- 命名/结构是否清晰
- 是否需要补充测试或文档

请输出一个「问题清单」，我会逐条处理。
```

---

## 6. 针对本仓库（VitePress AI 文档站）的实战技巧

以你现在这个 `ai-doc` 仓库为例，可以这样玩 Cursor：

### 6.1 自动生成新文档骨架

在 `docs/ai-programming/` 新建一个文件，例如 `xxx.md`，然后：

```markdown
这是一个 AI 编程知识库文档站，已有：
- AI 编程概述
- Claude Code Cheat Sheet
- Cursor 使用技巧

请帮我为《[你要写的主题]》生成一份大纲：
- 2~4 级标题结构
- 每个小节列出 2~4 个要点
- 用中文输出 Markdown 目录结构，不要写具体内容
```

### 6.2 批量规范 Markdown 格式

选中一整个文档（或文件中的一大段）：

```markdown
请帮我统一这段 Markdown 的格式：
- 表格对齐：两侧加空格，分隔线长度一致
- 代码块都加上语言标记（ts/js/bash 等）
- 标题从 H2 开始，层级不要跳级
- 列表前的缩进统一，渲染效果良好
```

### 6.3 生成中英文对照版本（可选）

如果你未来想加英文文档：

```markdown
请在不改变 Markdown 结构的前提下：
- 为每个中文标题和要点，添加对应的英文翻译
- 形式为：中文在上，英文在下，用空行分隔
- 不要翻译代码块
```

---

## 7. 提升效果的几个小技巧

### 7.1 多说约束，少说“帮我优化一下”

模糊：

```markdown
帮我优化一下这段代码。
```

更好：

```markdown
请从以下角度优化这段代码：
- 去掉重复逻辑
- 降低圈复杂度（if/for 嵌套不要太深）
- 增加类型标注，避免 any
- 不改变函数签名和返回值类型
```

### 7.2 控制输出大小

- “**只给出需要修改的部分代码**，不要重复未改动内容”
- “如果代码超过 200 行，请拆成多个代码块输出”
- “先给方案，再给代码实现”

### 7.3 不要害怕反复问

觉得它第一次给得一般，可以继续追问：

```markdown
这个方案有点复杂，请：
- 再给一个更简单、工程上更实用的版本
- 假设是中级前端同学来维护，需要容易理解
```

---

## 8. 容易踩的坑 & 避免姿势

### 8.1 直接照抄而不理解

- 安全相关逻辑（鉴权、支付、权限）一定要自己审一遍
- 不要把“看起来差不多”的代码直接合进主分支

### 8.2 一次塞太多文件

- 超长 Prompt 容易让重点模糊
- 建议：**一个对话解决一类问题**，跨文件改动分步骤来

### 8.3 不善用“解释”能力

- 对复杂改动，可以让它先解释：

```markdown
请逐行解释这段 diff 改了什么，以及为什么这么改：

```diff
// 粘贴 diff
```
```

---

## 9. 小结

在 Cursor 里高效使用 AI，本质上是三件事：

1. **说清楚上下文**：你是谁、项目是什么、现在这段代码在干嘛
2. **说清楚目标**：想让它改到什么程度、有什么约束
3. **保持主导权**：把 AI 当成一个“很能干但偶尔犯迷糊的搭档”

把上面这些套路用熟，你会发现：

- 写新功能更快
- 重构/整理旧代码没那么痛苦
- 文档/测试补起来也不再是折磨

结合本仓库中《AI 编程概述》和《Claude Code Cheat Sheet》，你可以逐步形成一套**完整的 AI 辅助开发工作流**。🚀
